{
  "schema_version": "scc.role_policy.v1",
  "role": "split",
  "context_mode": "external_context",
  "allowed_context_refs": ["map", "events", "playbooks", "patterns", "role_policy"],
  "capabilities": {
    "can_plan": true,
    "can_modify_contracts": false,
    "can_write_code": false,
    "can_run_tests": false,
    "can_emit_events": true
  },
  "permissions": {
    "read": { "pins_required": false, "allow_paths": ["docs/**", "map/**", "artifacts/**", "contracts/**", "roles/**", "skills/**"], "deny_paths": ["**/secrets/**"] },
    "write": { "allow_paths": [], "deny_paths": ["**"] },
    "tools": { "allow": ["rg", "node"], "deny": ["git", "network"] }
  },
  "required_outputs": { "artifacts": ["artifacts/child_task.json"], "submit_schema": "contracts/child_task/child_task.schema.json" },
  "gates": { "preflight_required": true, "hygiene_required": false, "max_attempts": 2, "stop_conditions": ["PINS_INSUFFICIENT", "PREFLIGHT_FAILED"] },
  "events": {
    "must_emit_on_fail": ["PINS_INSUFFICIENT", "PREFLIGHT_FAILED", "POLICY_VIOLATION"],
    "must_emit_on_success": ["SUCCESS"]
  }
}

